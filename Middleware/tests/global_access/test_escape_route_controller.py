from pprint import pprint

from global_access.escape_route_controller import EscapeRouteController

# To run, open cmd in folder and type:
    # All tests: pytest -v --durations=0
    # Specific test: pytest -v --durations=0 -k "method name"
    # Ref: https://docs.pytest.org/en/latest/usage.html

controller = EscapeRouteController()

# Methods that run on each equipment module connection:
def test_get_escape_route_statuses():

    received_data = controller.get_escape_route_statuses()

    expected_data = [{"escape_route_number":6,"escape_route_name":"EAMN-EVACUAÇÃO","escape_route_status":"1"},{"escape_route_number":7,"escape_route_name":"ERS-LIBERAR CATRACAS","escape_route_status":"1"},{"escape_route_number":8,"escape_route_name":"ERS-LIBERAR PORTAS ESCADA DE SERVIÇO","escape_route_status":"1"},{"escape_route_number":9,"escape_route_name":"ERS-BLOQUEIO INVASAO","escape_route_status":"1"},{"escape_route_number":11,"escape_route_name":"EAMN-BLOQUEIO INVASAO","escape_route_status":"1"},{"escape_route_number":12,"escape_route_name":"EAMN-BLOQUEIO SHAFT","escape_route_status":"1"},{"escape_route_number":24,"escape_route_name":"ERS-BLOQUEIO (PORTAS DE SERVIÇO E CATRACAS)","escape_route_status":"1"},{"escape_route_number":31,"escape_route_name":"EAMN-BLOQUEIO (CATRACAS E PORTAS DE VIDRO)","escape_route_status":"1"},{"escape_route_number":65,"escape_route_name":"ERS-EVACUAÇÃO ","escape_route_status":"1"},{"escape_route_number":92,"escape_route_name":"ERS-TÉRREO-CATRACA 1-LIBERAÇÃO FÍSICA","escape_route_status":"2"},{"escape_route_number":93,"escape_route_name":"ERS-TÉRREO-CATRACA 2-LIBERAÇÃO FÍSICA","escape_route_status":"2"},{"escape_route_number":94,"escape_route_name":"ERS-TÉRREO-CATRACA 3-LIBERAÇÃO FÍSICA","escape_route_status":"1"},{"escape_route_number":95,"escape_route_name":"ERS-TÉRREO-CATRACA 4 PNE-LIBERAÇÃO FÍSICA","escape_route_status":"1"},{"escape_route_number":96,"escape_route_name":"ERS-TÉRREO-CATRACA 5-LIBERAÇÃO FÍSICA","escape_route_status":"2"},{"escape_route_number":97,"escape_route_name":"ERS-SS1-CATRACA 1-LIBERAÇÃO FÍSICA","escape_route_status":"2"},{"escape_route_number":98,"escape_route_name":"ERS-SS1-CATRACA 2 PNE-LIBERAÇÃO FÍSICA","escape_route_status":"2"},{"escape_route_number":99,"escape_route_name":"ERS-SS2-CATRACA 1-LIBERAÇÃO FÍSICA","escape_route_status":"1"},{"escape_route_number":100,"escape_route_name":"ERS-SS2-CATRACA DESCOMPRESSÃO-LIBERAÇÃO FÍSICA","escape_route_status":"1"},{"escape_route_number":101,"escape_route_name":"EAMN-EVACUAÇÃO-PORTAO","escape_route_status":"1"},{"escape_route_number":103,"escape_route_name":"EAMN 05 ANDAR - PORTAS SOCIAL - LIBERAÇÃO","escape_route_status":"1"},{"escape_route_number":104,"escape_route_name":"Z_TESTE_3","escape_route_status":"1"},{"escape_route_number":105,"escape_route_name":"Z_TESTE_1","escape_route_status":"1"},{"escape_route_number":106,"escape_route_name":"EAMN-SS1-CATRACA 2-LIBERAÇÃO FÍSICA","escape_route_status":"1"},{"escape_route_number":107,"escape_route_name":"EAMN-LIBERAÇÃO PORTAS VIDRO - TÉRREO A 6ºSS","escape_route_status":"2"},{"escape_route_number":108,"escape_route_name":"ERS E EAMN - EVACUAÇÃO","escape_route_status":"1"},{"escape_route_number":109,"escape_route_name":"EAMN-SS1-CATRACA 1-LIBERAÇÃO FÍSICA","escape_route_status":"1"},{"escape_route_number":110,"escape_route_name":"EAMN-SS1-CATRACA 3-LIBERAÇÃO FÍSICA","escape_route_status":"1"},{"escape_route_number":111,"escape_route_name":"EAMN SS1 LIBERAÇÃO PORTA SERVIÇO","escape_route_status":"1"},{"escape_route_number":112,"escape_route_name":"Z_EAMN CATRACAS NÃO PNE","escape_route_status":"1"},{"escape_route_number":113,"escape_route_name":"Z_EAMN 6 SOCIAL","escape_route_status":"1"},{"escape_route_number":114,"escape_route_name":"Z_EAMN 7 SOCIAL","escape_route_status":"1"},{"escape_route_number":115,"escape_route_name":"Z_EAMN 8 SOCIAL","escape_route_status":"1"},{"escape_route_number":116,"escape_route_name":"Z_EAMN 6 SERVIÇO","escape_route_status":"1"},{"escape_route_number":117,"escape_route_name":"Z_EAMN 7 SERVIÇO","escape_route_status":"1"},{"escape_route_number":118,"escape_route_name":"EAMN 08 - LIBERAÇÃO","escape_route_status":"1"},{"escape_route_number":119,"escape_route_name":"Z_EAMN 6 DESCOMPRESSÃO","escape_route_status":"1"},{"escape_route_number":120,"escape_route_name":"Z_EAMN CATRACA PNE 0","escape_route_status":"1"},{"escape_route_number":121,"escape_route_name":"Z_EAMN CATRACA PNE -1","escape_route_status":"1"},{"escape_route_number":125,"escape_route_name":"EAMN-LIBERAR CATRACAS","escape_route_status":"2"},{"escape_route_number":128,"escape_route_name":"EAMN 05 ANDAR - PORTA SERVIÇOS - LIBERAÇÃO","escape_route_status":"1"},{"escape_route_number":129,"escape_route_name":"EAMN 02 ANDAR - PORTA SOCIAL - LIBERAÇÃO","escape_route_status":"1"},{"escape_route_number":130,"escape_route_name":"EAMN 02 ANDAR - PORTA SERVIÇOS - LIBERAÇÃO","escape_route_status":"1"},{"escape_route_number":132,"escape_route_name":"EAMN 00 - PORTA VIDRO","escape_route_status":"2"},{"escape_route_number":133,"escape_route_name":"Z_TESTE_2","escape_route_status":"1"},{"escape_route_number":134,"escape_route_name":"ERS SS2 PORTA SERVIÇO","escape_route_status":"1"},{"escape_route_number":135,"escape_route_name":"RS CFTV","escape_route_status":"1"},{"escape_route_number":136,"escape_route_name":"EAMN - 11 PORTA SOCIAL","escape_route_status":"2"},{"escape_route_number":137,"escape_route_name":"EAMN - 11 PORTA SERVIÇO","escape_route_status":"2"}]
    
    assert received_data == expected_data

def test_get_equipments_in_escape_route():

    received_data = controller.get_equipments_in_escape_route(108)

    expected_data = [{"equipment_name":"EAMN 2SS - PORTA VIDRO - OESTE","equipment_number":84,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 5SS - PORTA VIDRO - OESTE","equipment_number":76,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 5SS - PORTA VIDRO - LESTE","equipment_number":75,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 02 - PORTA ELEVADOR SOCIAL","equipment_number":140,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 02 - PORTA ELEVADOR SERVICO","equipment_number":139,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 05 - PORTA ELEVADOR SOCIAL","equipment_number":142,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 05 - PORTA ELEVADOR SERVIÇO","equipment_number":141,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 11 - PORTA ELEVADOR SOCIAL","equipment_number":144,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 11 - PORTA ELEVADOR SERVIÇO","equipment_number":143,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 1SS - PORTA DE VIDRO ELEVADOR SERVICO","equipment_number":138,"equipment_operation_mode":"3"},{"equipment_name":"ERS 00,5 - PORTA SEGURANÇA","equipment_number":133,"equipment_operation_mode":"3"},{"equipment_name":"ERS 00,5 - PORTA CFTV","equipment_number":132,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 08 - PORTA ELEVADOR SOCIAL\u001F","equipment_number":145,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 08 - PORTA ELEVADOR SERVICO","equipment_number":146,"equipment_operation_mode":"3"},{"equipment_name":"ERS 00 - ELEVADOR PRIVATIVO - PORTA EXTERNA","equipment_number":148,"equipment_operation_mode":"3"},{"equipment_name":"ERS 00 - PORTA SEGURANÇA - EXTERNA","equipment_number":147,"equipment_operation_mode":"3"},{"equipment_name":"ERS 2SS - CATRACA 1","equipment_number":1,"equipment_operation_mode":"4"},{"equipment_name":"ERS 00 - CATRACA 3","equipment_number":7,"equipment_operation_mode":"4"},{"equipment_name":"ERS 2SS - PORTA ESCADA DE SERVIÇO","equipment_number":40,"equipment_operation_mode":"3"},{"equipment_name":"ERS 1SS - PORTA ESCADA DE SERVIÇO","equipment_number":39,"equipment_operation_mode":"3"},{"equipment_name":"ERS 18 - PORTA ESCADA DE SERVIÇO","equipment_number":46,"equipment_operation_mode":"3"},{"equipment_name":"ERS 18 - PORTA ARQUIVO","equipment_number":48,"equipment_operation_mode":"3"},{"equipment_name":"ERS 17 - PORTA ESCADA DE SERVIÇO","equipment_number":43,"equipment_operation_mode":"3"},{"equipment_name":"ERS 16 - PORTA ESCADA DE SERVIÇO","equipment_number":92,"equipment_operation_mode":"3"},{"equipment_name":"ERS 15 - PORTA ESCADA DE SERVIÇO","equipment_number":17,"equipment_operation_mode":"3"},{"equipment_name":"ERS 14 - PORTA ESCADA DE SERVIÇO","equipment_number":18,"equipment_operation_mode":"3"},{"equipment_name":"ERS 13 - PORTA ESCADA DE SERVIÇO","equipment_number":19,"equipment_operation_mode":"3"},{"equipment_name":"ERS 12 - PORTA ESCADA DE SERVIÇO","equipment_number":20,"equipment_operation_mode":"3"},{"equipment_name":"ERS 11 - PORTA ESCADA DE SERVIÇO","equipment_number":21,"equipment_operation_mode":"3"},{"equipment_name":"ERS 10 - PORTA ESCADA DE SERVIÇO","equipment_number":23,"equipment_operation_mode":"3"},{"equipment_name":"ERS 09 - PORTA ESCADA DE SERVIÇO","equipment_number":24,"equipment_operation_mode":"3"},{"equipment_name":"ERS 08 - PORTA ESCADA DE SERVIÇO","equipment_number":25,"equipment_operation_mode":"3"},{"equipment_name":"ERS 07 - PORTA ESCADA DE SERVIÇO","equipment_number":26,"equipment_operation_mode":"3"},{"equipment_name":"ERS 06 - PORTA ESCADA DE SERVIÇO","equipment_number":27,"equipment_operation_mode":"3"},{"equipment_name":"ERS 05 - PORTA ESCADA DE SERVIÇO","equipment_number":29,"equipment_operation_mode":"3"},{"equipment_name":"ERS 04 - PORTA ESCADA DE SERVIÇO","equipment_number":30,"equipment_operation_mode":"3"},{"equipment_name":"ERS 03 - PORTA ESCADA DE SERVIÇO","equipment_number":31,"equipment_operation_mode":"3"},{"equipment_name":"ERS 02 - PORTA ESCADA DE SERVIÇO","equipment_number":32,"equipment_operation_mode":"3"},{"equipment_name":"ERS 01 - PORTA PABX","equipment_number":34,"equipment_operation_mode":"3"},{"equipment_name":"ERS 01 - PORTA ESCADA DE SERVIÇO","equipment_number":35,"equipment_operation_mode":"3"},{"equipment_name":"ERS 00 - PORTA ESCADA DE SERVIÇO","equipment_number":38,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 6SS - SALA DO PABX 2","equipment_number":54,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 6SS - SALA DO PABX 1","equipment_number":52,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 6SS - SALA DO NO-BREAK","equipment_number":53,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 6SS - PORTA VIDRO - OESTE","equipment_number":51,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 6SS - PORTA VIDRO - LESTE","equipment_number":50,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 6SS - PORTA SHAFT","equipment_number":49,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 6SS - CGE - SALA DE GERADORES","equipment_number":55,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 5SS - PORTA SHAFT","equipment_number":74,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 4SS - PORTA VIDRO - OESTE","equipment_number":94,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 4SS - PORTA VIDRO - LESTE","equipment_number":78,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 4SS - PORTA SHAFT","equipment_number":77,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 3SS - PORTA VIDRO - OESTE","equipment_number":81,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 3SS - PORTA VIDRO - LESTE","equipment_number":80,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 3SS - PORTA SWITCH CORE 02","equipment_number":88,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 3SS - PORTA SWITCH CORE","equipment_number":87,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 3SS - PORTA SHAFT","equipment_number":79,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 2SS- PORTA SHAFT","equipment_number":82,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 2SS - PORTA VIDRO - LESTE","equipment_number":83,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 1SS - PORTA SHAFT","equipment_number":85,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 1SS - CANCELA SAIDA","equipment_number":106,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 1SS - CANCELA ENTRADA","equipment_number":105,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 18 - CASA DE MÁQUINA ELEVADORES","equipment_number":73,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 18 - AR CONDICIONADO","equipment_number":89,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 17 - PORTA SHAFT","equipment_number":72,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 16 - PORTA SHAFT","equipment_number":71,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 15 - PORTA SHAFT","equipment_number":70,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 14 - PORTA SHAFT","equipment_number":69,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 13 - PORTA SHAFT","equipment_number":68,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 12 - PORTA SHAFT","equipment_number":67,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 11 - PORTA SHAFT","equipment_number":66,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 10 - PORTA SHAFT","equipment_number":65,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 09 - PORTA SHAFT","equipment_number":64,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 08 - PORTA SHAFT","equipment_number":63,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 07 - PORTA SHAFT","equipment_number":62,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 07 - PORTA INTERNA ESQUERDA","equipment_number":96,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 07 - PORTA ELEVADOR SOCIAL","equipment_number":98,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 07 - PORTA ELEVADOR SERVIÇO","equipment_number":99,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 07 - PORTA INTERNA DIREITA","equipment_number":97,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 06 - PORTA SHAFT","equipment_number":56,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 06 - PORTA ELEVADOR SOCIAL\u001F","equipment_number":116,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 06 - PORTA ELEVADOR DE SERVIÇO","equipment_number":101,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 06 - PORTA DESCOMPRESSÃO","equipment_number":102,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 05 - PORTA SHAFT","equipment_number":61,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 04 - PORTA SHAFT","equipment_number":60,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 03 - PORTA SHAFT","equipment_number":59,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 02 - PORTA SHAFT","equipment_number":58,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 01 - SOBRELOJA - PORTA SHAFT","equipment_number":91,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 01 - PORTA SHAFT","equipment_number":57,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 00 - PORTA VIDRO","equipment_number":86,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 00 - PORTA SHAFT","equipment_number":90,"equipment_operation_mode":"3"},{"equipment_name":"ERS 2SS - CATRACA DESCOMPRESSAO","equipment_number":95,"equipment_operation_mode":"3"},{"equipment_name":"ERS 1SS - CATRACA 2 PNE","equipment_number":4,"equipment_operation_mode":"3"},{"equipment_name":"ERS 1SS - CATRACA 1","equipment_number":3,"equipment_operation_mode":"4"},{"equipment_name":"ERS 00 - CATRACA 5","equipment_number":9,"equipment_operation_mode":"4"},{"equipment_name":"ERS 00 - CATRACA 4 - PNE","equipment_number":8,"equipment_operation_mode":"3"},{"equipment_name":"ERS 00 - CATRACA 2","equipment_number":6,"equipment_operation_mode":"4"},{"equipment_name":"ERS 00 - CATRACA 1","equipment_number":5,"equipment_operation_mode":"4"},{"equipment_name":"EAMN 1SS - CATRACA 4 PNE","equipment_number":13,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 1SS - CATRACA 3","equipment_number":12,"equipment_operation_mode":"4"},{"equipment_name":"EAMN 1SS - CATRACA 2","equipment_number":11,"equipment_operation_mode":"4"},{"equipment_name":"EAMN 1SS - CATRACA 1","equipment_number":10,"equipment_operation_mode":"4"},{"equipment_name":"EAMN 00 - CATRACA 3 - PNE","equipment_number":16,"equipment_operation_mode":"3"},{"equipment_name":"EAMN 00 - CATRACA 2","equipment_number":15,"equipment_operation_mode":"4"},{"equipment_name":"EAMN 00 - CATRACA 1","equipment_number":14,"equipment_operation_mode":"4"}]

    assert received_data == expected_data

if __name__ == "__main__":
    a = test_get_escape_route_statuses()